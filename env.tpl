# Do NOT edit this file!!, edit only the customer.env

### DO NOT EDIT BELOW THIS LINE

GOOGLE_APPLICATION_CREDENTIALS=../certs/key.json
CARTO3_ONPREM_VOLUMES_BASE_PATH=./

ONPREM_GCP_PROJECT_ID=carto-tnt-${ONPREM_TENANT_ID}
DOCKER_REGISTRY_BASE_PATH=gcr.io/carto-onprem-artifacts
CARTO_ONPREMISE_AUTH0_CLIENT_ID=${CARTO_AUTH0_CLIENT_ID}

### GENERIC CONF

## IMAGES
ROUTER_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/router:${CARTO_ONPREMISE_VERSION}
ACCOUNTS_API_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/accounts-api:${CARTO_ONPREMISE_VERSION}
ACCOUNTS_WWW_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/accounts-www:${CARTO_ONPREMISE_VERSION}
WORKSPACE_API_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/workspace-api:${CARTO_ONPREMISE_VERSION}
WORKSPACE_WWW_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/workspace-www:${CARTO_ONPREMISE_VERSION}
MAPS_API_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/maps-api:${CARTO_ONPREMISE_VERSION}
INTEGRATION_TESTS_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/integration-tests:${CARTO_ONPREMISE_VERSION}
ACCOUNTS_MIGRATIONS_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/accounts-db:${CARTO_ONPREMISE_VERSION}
WORKSPACE_MIGRATIONS_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/workspace-db:${CARTO_ONPREMISE_VERSION}
IMPORT_API_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/import-api:${CARTO_ONPREMISE_VERSION}
LDS_API_DOCKER_IMAGE=${DOCKER_REGISTRY_BASE_PATH}/lds-api:${CARTO_ONPREMISE_VERSION}

### WWW variables
REACT_APP_CLIENT_ID=${CARTO_AUTH0_CLIENT_ID}
REACT_APP_AUTH0_DOMAIN=${CARTO_AUTH0_CUSTOM_DOMAIN}
REACT_APP_ACCOUNTS_API_URL=https://${ACC_DOMAIN}
REACT_APP_ACCOUNTS_URL=https://${ONPREM_DOMAIN}/acc/
REACT_APP_WORKSPACE_API_URL=https://${ONPREM_DOMAIN}/workspace-api
REACT_APP_API_BASE_URL=https://${ONPREM_DOMAIN}/api
REACT_APP_PUBLIC_MAP_URL=https://${ONPREM_DOMAIN}/workspace-api/maps/public
REACT_APP_AUTH0_AUDIENCE=carto-cloud-native-api
REACT_APP_WORKSPACE_URL_TEMPLATE=https://{tenantDomain}
REACT_APP_CUSTOM_TENANT=${ONPREM_TENANT_ID}
REACT_APP_IMPORT_DATASET=carto_dw.carto-dw-{account-id}.shared
REACT_APP_HUBSPOT_ID=474999
REACT_APP_HUBSPOT_LIMIT_FORM_ID=cd9486fa-5766-4bac-81b9-d8c6cd029b3b

## Common config
AUTH0_AUDIENCE=carto-cloud-native-api
AUTH0_DOMAIN=${CARTO_AUTH0_CUSTOM_DOMAIN}
AUTH0_NAMESPACE=http://app.carto.com
LOG_LEVEL=debug

REDIS_CACHE_PREFIX=onprem
REDIS_HOST=redis
REDIS_PORT=6379

## PUB SUB
PUBSUB_MODE=pull

PUBSUB_PROJECT_ID=${ONPREM_GCP_PROJECT_ID}

## Conflictive with onprem tenant && regular tenants
PUBSUB_DATA_UPDATES_TOPICS_TEMPLATE=projects/{project_id}/topics/data-updates

EVENT_BUS_TOPIC=projects/${ACC_GCP_PROJECT_ID}/topics/${ACC_GCP_PROJECT_REGION}-event-bus
EVENT_BUS_PROJECT_ID=${ACC_GCP_PROJECT_ID}

DO_ENABLED=false

## Workspace config
CARTO_ONPREMISE_NAME=${ONPREM_TENANT_ID}
CARTO_ONPREMISE_DOMAIN=${ONPREM_DOMAIN}
CARTO_ONPREMISE_GCP_PROJECT_ID=${ONPREM_GCP_PROJECT_ID}

WORKSPACE_POSTGRES_HOST=workspace-postgres
WORKSPACE_POSTGRES_USER=workspace_admin
WORKSPACE_POSTGRES_DB=workspace
WORKSPACE_POSTGRES_PORT=5432

# if you change the TENANT_ID you need to change the DataUpdate's topic and sub
WORKSPACE_TENANT_ID=${ONPREM_TENANT_ID}

WORKSPACE_PUBSUB_DATA_UPDATES_TOPIC=projects/${ONPREM_GCP_PROJECT_ID}/topics/data-updates
WORKSPACE_PUBSUB_DATA_UPDATES_SUBSCRIPTION=projects/${ONPREM_GCP_PROJECT_ID}/subscriptions/data-updates-workspace-sub

## Maps API config
MAPS_API_V3_RESOURCE_URL_HOST=${ONPREM_DOMAIN}
MAPS_API_V3_RESOURCE_URL_ALLOWED_HOSTS=${ONPREM_DOMAIN}

## Import API config
IMPORT_TENANT_ID=${ONPREM_TENANT_ID}
IMPORT_WORKER_PROCESSING_DIR=/tmp/import-worker

IMPORT_PUBSUB_TENANT_BUS_TOPIC=projects/${ONPREM_GCP_PROJECT_ID}/topics/tenant-bus
IMPORT_PUBSUB_TENANT_BUS_SUBSCRIPTION=projects/${ONPREM_GCP_PROJECT_ID}/subscriptions/tenant-bus-import-sub
